# 한국어 단어 테트리스 - 게임 설계 문서

## 게임 규칙

### 기본 규칙
1. 블록은 1칸, 2칸, 3칸, 4칸의 네 가지 종류가 있으며, 각 칸에는 한글 한 글자씩 표시됩니다.
2. 블록은 하단의 블록 트레이에 생성되며, 플레이어는 마우스나 터치로 드래그하여 원하는 위치에 배치합니다.
3. 블록 트레이에 있는 블록은 터치하거나 클릭하여 회전시킬 수 있습니다.
4. 가로나 세로로 의미 있는 한국어 단어가 형성되면 해당 블록들이 제거됩니다.
5. 단어가 완성되어 해당 블록이 제거되더라도 다른 블록들은 이동하지 않고 제자리를 유지합니다.
6. 더 이상 블록을 배치할 공간이 없으면 게임이 종료됩니다.

### 점수 시스템
- 기본 단어 완성: 단어 길이 × 10점
- 레벨에 따른 추가 점수 보너스: 레벨 당 10% 추가 점수
- 5턴마다 폭탄 블록 생성: 주변 3x3 영역을 한 번에 제거

### 난이도 레벨
- 레벨 1: 초기 난이도, 점수 0-1000
- 레벨 2: 점수 1000 이상
- 레벨 3: 점수 2000 이상
- 레벨 4+: 점수 3000 이상

## 게임 요소

### 블록 종류
1. 일반 블록:
   - 1칸 블록: 한 글자만 포함 (등장 확률: 5%)
   - 2칸 블록: 두 글자 포함 (가로 또는 세로 배치, 회전 가능) (등장 확률: 15%)
   - 3칸 블록: 세 글자 포함 (가로, 세로, L자형, 역L자형, 코너형 등 다양한 형태, 회전 가능) (등장 확률: 40%)
   - 4칸 블록: 네 글자 포함 (2x2 정사각형, 가로 4칸, 세로 4칸 형태, 회전 가능) (등장 확률: 40%)

2. 특수 블록:
   - 폭탄 블록: 주변 3x3 영역 함께 제거 (5턴마다, 단어 제거 시 생성)

### 블록 회전 시스템
1. 1칸 블록: 회전 불필요
2. 2칸 블록: 가로/세로 전환 (2가지 방향)
3. 3칸 블록:
   - I자형: 가로/세로 전환 (2가지 방향)
   - L자형, 역L자형, 코너형: 4가지 방향으로 회전 가능
4. 4칸 블록:
   - 정사각형: 회전해도 형태 유지
   - I자형(가로/세로): 가로/세로 전환 (2가지 방향)

### 게임 모드
1. 클래식 모드: 기본 게임플레이

## UI/UX 설계

### 화면 구성
1. 게임 화면
   - 중앙 게임 그리드: 10x10 블록 배치 영역
   - 점수 표시
   - 현재 선택 가능한 블록 트레이 (5개)
   - 일시정지 버튼

2. 결과 화면
   - 최종 점수
   - 완성한 단어 목록
   - 다시 시작 버튼

### 조작 방식
- 드래그 앤 드롭: 블록 배치
- 탭 또는 클릭: 블록 선택 및 시계 방향 회전 (90도씩)

## 블록 배치 메커니즘

### 블록 생성
1. 게임 시작 시 5개의 블록을 선택 가능한 블록 트레이에 생성합니다.
2. 블록은 다음과 같은 확률로 생성됩니다:
   - 1칸 블록: 5%
   - 2칸 블록: 15%
   - 3칸 블록: 40%
   - 4칸 블록: 40%
3. 각 블록의 각 칸에는 한글 글자가 표시됩니다.

### 블록 회전
1. 사용자는 블록 트레이에서 블록을 터치하거나 클릭하여 회전시킬 수 있습니다.
2. 회전은 시계 방향으로 90도씩 이루어집니다 (0°, 90°, 180°, 270°).
3. 회전된 상태로 블록을 그리드에 배치할 수 있습니다.

### 블록 배치
1. 플레이어는 블록 트레이에서 블록을 드래그합니다.
2. 드래그하는 동안 게임 그리드에는 해당 블록의 그림자가 표시되어 배치 위치를 미리 볼 수 있습니다.
3. 블록을 게임 그리드의 원하는 위치에 놓습니다.
4. 블록이 유효한 위치에 배치되면 해당 블록은 그리드에 고정됩니다.
5. 배치된 블록 자리에 새로운 블록이 생성됩니다.

### 단어 완성 및 제거
1. 블록 배치 후, 가로 또는 세로로 연결된 글자들이 유효한 한국어 단어를 형성하는지 확인합니다.
2. 유효한 단어가 완성되면 해당 블록들이 제거되고 점수가 부여됩니다.
3. 제거된 블록의 위치는 빈 공간으로 남아있으며, 다른 블록들은 이동하지 않습니다.
4. 한 번의 배치로 여러 단어가 동시에 완성될 수 있으며, 이 경우 모든 완성된 단어에 대해 점수가 부여됩니다.
5. 단어 제거 횟수가 5회 누적될 때마다 폭탄 블록이 생성됩니다.

## 데이터베이스 설계

### 단어 데이터베이스
- 한국어 단어 리스트를 활용한 대규모 데이터베이스
- 단어 목록은 메모리에 로드되어 빠른 검색 및 인식이 가능하도록 최적화
- 국립국어원 단어사전의 데이터를 기반으로 함

### 단어 검증 시스템
1. 플레이어가 블록을 배치할 때마다 가로/세로로 연결된 모든 문자열을 확인
2. 데이터베이스와 비교하여 유효한 단어인지 검증
3. 빠른 검색을 위한 로직 적용

## 향후 확장 계획
- 온라인 멀티플레이어 모드
- 사용자 정의 단어장
- 교육용 모드 (어휘력 향상)
- 계절/이벤트 테마
- 다양한 블록 모양 및 회전 패턴 추가 